Project Synapse {
  database_type: 'Sql Server'
  Host: 'asd'
  Note: '''
    # Azure Synapse Database for D365
    ### Host: `asatst1-ondemand.sql.azuresynapse.net`
  '''
}




Table SalesTable {
    SalesId string [note: "Numer zamówienia sprzedaży"]
    AngGlazingQty int [note: "Ilość szklen na nagłówku"]
    WorkerSalesResponsible int [note: "ID Osoby odpowiedzialnej za zamówienie"]
    CustAccount string [note: "Numer klienta"]
    SalesName string [note: "Nazwa klienta"]
    SalesStatus SalesStatus [note: "Stan zamówienia"]
    note: "Tabela z nagłówkami zamówienia"
}

Table SalesLine {
    SalesId string [note: "Numer zamówienia sprzedaży"]
    SalesQty int [note: "Ilość na zamówieniu sprzedaży"]
    inventDimId string 
    note: "Tabela z pozycjami zamówienia"
}

Table InventDim {
    inventDimId string
    configId string
    note: "Wymiary magazynowe"
}

Table EcoResConfiguration {
    Name string [note: "Nazwa konfiguracji np. N10024/23/0000901-"]
    AngProductCategoryId string [note: "Kategoria produktu"]
    AngGlassesQuantity int [note: "Ilość szklen danej konfiguracji"]
    note: "Tabela z konfiguracjami wierszy zamówień"
}

Table DirPartyTable {
    RecId string [note: "ID Osoby"]
    Name string [note: "Nazwa osoby"]
    note: "Globalna książka adresowa"
}

Table CustTable {
    AccountNum string [note: "Numer klienta"]
    SalesDistrictId string [note: "Grupa klienta np. GRUPA 1, GRUPA 2 itd."]
    note: "Tabela z danymi klientów"
}

Table CaseDetailBase {
    CaseId string [note: "Numer sprawy"]
    ComplaintNumber string [note: "Numer reklamacji"]
    note: "Sprawy i reklamacje"
}

Table CaseDetail {
    CaseId string [note: "Numer sprawy"]
    note: "Szczegóły sprawy/reklamacji"
}

Table WHSLoadTable{
    LoadId string [note: "Identfikator załadunku (z TMS)"]
    LoadSchedShipUTCDateTime datetime [note: "Data i godzina zaplanowanej wysyłki ładunku"]
    note: "Tabela z nagłówkami załadunków"
}

Table WHSLoadLine{
    LoadId string [note: "Identfikator załadunku (z TMS)"]
    OrderNum string [note: "Numer zamówienia sprzedaży"]
    note: "Tabela z wierszami transportowymi - zamówieniami"
}

Table ProdTable {
    DlvDate datetime [note: "Data produkcji"]
    SchedDate datetime [note: "Planowana data zdania"]
    ProdId string [note: "Numer zlecenia produkcyjnego"]
    CollectRefProdId string [note: "Numer zlecenia produkcyjnego z którego zostało utworzone"]
    ProdGroupId string [note: "Linia produkcyjna"]
    InventRefId string [note: "Numer odwołania"]
    note: "Tabela ze zleceniami produkcyjnymi"
}

Table ProdJournalProd {
    AngWindowNumber string [note: "Numer pozycji produkowanej (np. kiedy jest 1, u nas będzie 001)"]
    ProdId string [note: "Numer zlecenia produkcyjnego"]
    JournalId string
}

Table ProdJournalTable {
    JournalId string
    PostedDateTime [note: "data skanu na MWG"]
}




Ref: "SalesTable"."SalesId" < "SalesLine"."SalesId"
Ref: "SalesLine"."inventDimId" < "InventDim"."inventDimId"  
Ref: "EcoResConfiguration"."Name" < "InventDim"."configId"  
Ref: "SalesTable"."WorkerSalesResponsible" < "DirPartyTable"."RecId"  
Ref: "SalesTable"."CustAccount" < "CustTable"."AccountNum"  
Ref: "CaseDetailBase"."CaseId" < "CaseDetail"."CaseId"
Ref: "WHSLoadTable"."LoadId" < "WHSLoadLine"."LoadId" 
Ref: "SalesTable"."SalesId" - "WHSLoadLine"."OrderNum"
Ref: "ProdTable"."ProdId" < "ProdJournalProd"."ProdId"
Ref: "EcoResConfiguration"."Name" < "ProdTable"."ProdId"  

enum SalesStatus {
    "0 - Brak"
    "1 - Otwarte"
    "2 - Dostarczone"
    "3 - Zafakturowane"
    "4 - Anuloowane"
    1 [note: "Otwarte"]
    2 [note: "Dostarczone"]
    3 [note: "Zafakturowane"]
    4 [note: "Anuloowane"]
}

